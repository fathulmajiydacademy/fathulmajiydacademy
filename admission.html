<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Registration Form</title>
    <link rel="stylesheet" href="./css/admission.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Student Registration Form</h1>
        <p>Please fill out all required fields marked with *</p>
      </div>

      <div class="form-container">
        <form id="studentForm">
          <!-- Personal Information Section -->
          <div class="form-section">
            <h2 class="section-title">Personal Information</h2>

            <div class="form-row">
              <div class="form-group">
                <label for="firstName"
                  >First Name <span class="required">*</span></label
                >
                <input type="text" id="firstName" name="firstName" required />
                <div class="validation-error">Please enter first name</div>
              </div>
              <div class="form-group">
                <label for="lastName"
                  >Last Name <span class="required">*</span></label
                >
                <input type="text" id="lastName" name="lastName" required />
                <div class="validation-error">Please enter last name</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="middleName">Middle Name</label>
                <input type="text" id="middleName" name="middleName" />
              </div>
              <div class="form-group">
                <label for="dateOfBirth"
                  >Date of Birth <span class="required">*</span></label
                >
                <input
                  type="date"
                  id="dateOfBirth"
                  name="dateOfBirth"
                  required
                />
                <div class="validation-error">Please enter date of birth</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Gender <span class="required">*</span></label>
                <div class="radio-group">
                  <div class="radio-option">
                    <input
                      type="radio"
                      id="male"
                      name="gender"
                      value="male"
                      required
                    />
                    <label for="male">Male</label>
                  </div>
                  <div class="radio-option">
                    <input
                      type="radio"
                      id="female"
                      name="gender"
                      value="female"
                      required
                    />
                    <label for="female">Female</label>
                  </div>
                </div>
                <div class="validation-error">Please select gender</div>
              </div>
              <div class="form-group">
                <label for="nationality"
                  >Nationality <span class="required">*</span></label
                >
                <select id="nationality" name="nationality" required>
                  <option value="">Select Nationality</option>
                  <option value="Nigerian">Nigerian</option>
                  <option value="Other">Other</option>
                </select>
                <div class="validation-error">Please select nationality</div>
              </div>
            </div>
          </div>

          <!-- Contact Information Section -->
          <div class="form-section">
            <h2 class="section-title">Contact Information</h2>

            <div class="form-row">
              <div class="form-group">
                <label for="email"
                  >Email Address <span class="required">*</span></label
                >
                <input type="email" id="email" name="email" required />
                <div class="validation-error">
                  Please enter a valid email address
                </div>
              </div>
              <div class="form-group">
                <label for="phone"
                  >Phone Number <span class="required">*</span></label
                >
                <input type="tel" id="phone" name="phone" required />
                <div class="validation-error">Please enter phone number</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="emergencyContact"
                  >Emergency Contact Name <span class="required">*</span></label
                >
                <input
                  type="text"
                  id="emergencyContact"
                  name="emergencyContact"
                  required
                />
                <div class="validation-error">
                  Please enter emergency contact name
                </div>
              </div>
              <div class="form-group">
                <label for="emergencyPhone"
                  >Emergency Contact Phone
                  <span class="required">*</span></label
                >
                <input
                  type="tel"
                  id="emergencyPhone"
                  name="emergencyPhone"
                  required
                />
                <div class="validation-error">
                  Please enter emergency contact phone
                </div>
              </div>
            </div>
          </div>

          <!-- Location Information Section -->
          <div class="form-section">
            <h2 class="section-title">Location Information</h2>

            <div class="form-row">
              <div class="form-group">
                <label for="stateOfOrigin"
                  >State of Origin <span class="required">*</span></label
                >
                <select id="stateOfOrigin" name="stateOfOrigin" required>
                  <option value="">Select State of Origin</option>
                  <option value="Abia">Abia</option>
                  <option value="Adamawa">Adamawa</option>
                  <option value="Akwa Ibom">Akwa Ibom</option>
                  <option value="Anambra">Anambra</option>
                  <option value="Bauchi">Bauchi</option>
                  <option value="Bayelsa">Bayelsa</option>
                  <option value="Benue">Benue</option>
                  <option value="Borno">Borno</option>
                  <option value="Cross River">Cross River</option>
                  <option value="Delta">Delta</option>
                  <option value="Ebonyi">Ebonyi</option>
                  <option value="Edo">Edo</option>
                  <option value="Ekiti">Ekiti</option>
                  <option value="Enugu">Enugu</option>
                  <option value="FCT">Federal Capital Territory (FCT)</option>
                  <option value="Gombe">Gombe</option>
                  <option value="Imo">Imo</option>
                  <option value="Jigawa">Jigawa</option>
                  <option value="Kaduna">Kaduna</option>
                  <option value="Kano">Kano</option>
                  <option value="Katsina">Katsina</option>
                  <option value="Kebbi">Kebbi</option>
                  <option value="Kogi">Kogi</option>
                  <option value="Kwara">Kwara</option>
                  <option value="Lagos">Lagos</option>
                  <option value="Nasarawa">Nasarawa</option>
                  <option value="Niger">Niger</option>
                  <option value="Ogun">Ogun</option>
                  <option value="Ondo">Ondo</option>
                  <option value="Osun">Osun</option>
                  <option value="Oyo">Oyo</option>
                  <option value="Plateau">Plateau</option>
                  <option value="Rivers">Rivers</option>
                  <option value="Sokoto">Sokoto</option>
                  <option value="Taraba">Taraba</option>
                  <option value="Yobe">Yobe</option>
                  <option value="Zamfara">Zamfara</option>
                </select>
                <div class="validation-error">
                  Please select state of origin
                </div>
              </div>
              <div class="form-group">
                <label for="lga"
                  >Local Government Area <span class="required">*</span></label
                >
                <input
                  type="text"
                  id="lga"
                  name="lga"
                  required
                  placeholder="Enter your LGA"
                />
                <div class="validation-error">Please enter LGA</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="stateOfResidence"
                  >State of Residence <span class="required">*</span></label
                >
                <select id="stateOfResidence" name="stateOfResidence" required>
                  <option value="">Select State of Residence</option>
                  <option value="Abia">Abia</option>
                  <option value="Adamawa">Adamawa</option>
                  <option value="Akwa Ibom">Akwa Ibom</option>
                  <option value="Anambra">Anambra</option>
                  <option value="Bauchi">Bauchi</option>
                  <option value="Bayelsa">Bayelsa</option>
                  <option value="Benue">Benue</option>
                  <option value="Borno">Borno</option>
                  <option value="Cross River">Cross River</option>
                  <option value="Delta">Delta</option>
                  <option value="Ebonyi">Ebonyi</option>
                  <option value="Edo">Edo</option>
                  <option value="Ekiti">Ekiti</option>
                  <option value="Enugu">Enugu</option>
                  <option value="FCT">Federal Capital Territory (FCT)</option>
                  <option value="Gombe">Gombe</option>
                  <option value="Imo">Imo</option>
                  <option value="Jigawa">Jigawa</option>
                  <option value="Kaduna">Kaduna</option>
                  <option value="Kano">Kano</option>
                  <option value="Katsina">Katsina</option>
                  <option value="Kebbi">Kebbi</option>
                  <option value="Kogi">Kogi</option>
                  <option value="Kwara">Kwara</option>
                  <option value="Lagos">Lagos</option>
                  <option value="Nasarawa">Nasarawa</option>
                  <option value="Niger">Niger</option>
                  <option value="Ogun">Ogun</option>
                  <option value="Ondo">Ondo</option>
                  <option value="Osun">Osun</option>
                  <option value="Oyo">Oyo</option>
                  <option value="Plateau">Plateau</option>
                  <option value="Rivers">Rivers</option>
                  <option value="Sokoto">Sokoto</option>
                  <option value="Taraba">Taraba</option>
                  <option value="Yobe">Yobe</option>
                  <option value="Zamfara">Zamfara</option>
                </select>
                <div class="validation-error">
                  Please select state of residence
                </div>
              </div>
              <div class="form-group">
                <label for="city"
                  >City/Town <span class="required">*</span></label
                >
                <input
                  type="text"
                  id="city"
                  name="city"
                  required
                  placeholder="Enter your city/town"
                />
                <div class="validation-error">Please enter city/town</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group full-width">
                <label for="address"
                  >Residential Address <span class="required">*</span></label
                >
                <textarea
                  id="address"
                  name="address"
                  required
                  placeholder="Enter your full residential address"
                ></textarea>
                <div class="validation-error">
                  Please enter residential address
                </div>
              </div>
            </div>
          </div>

          <!-- Fee Information Section -->
          <div class="form-section">
            <h2 class="section-title">Fee Information</h2>

            <div class="form-row">
              <div class="form-group full-width">
                <div class="fee-info-box">
                  <p
                    style="
                      font-weight: 600;
                      margin-bottom: 15px;
                      color: #2c3e50;
                    "
                  >
                    School Fees Structure:
                  </p>

                  <div class="fee-category">
                    <strong>Registration Fees:</strong>
                    <ul class="fee-list">
                      <li>New Registration for the Full Session = ₦10,000</li>
                      <li>
                        New Registration for the Islamiyya Section = ₦3,000
                      </li>
                    </ul>
                  </div>

                  <div class="fee-category">
                    <strong>Termly School Fees:</strong>
                    <ul class="fee-list">
                      <li>Nursery Section = ₦3,500 per term</li>
                      <li>Primary Section = ₦4,000 per term</li>
                      <li>Islamiyya Session = ₦1,500 per term</li>
                    </ul>
                  </div>

                  <div class="fee-category">
                    <strong>Additional Fees:</strong>
                    <ul class="fee-list">
                      <li>School Badge = ₦200</li>
                    </ul>
                  </div>

                  <div class="fee-note">
                    <p>
                      <strong>Note:</strong> All fees are payable at the
                      beginning of each term. Registration fees are one-time
                      payments for new students only.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Academic Information Section -->
          <div class="form-section">
            <h2 class="section-title">Academic Information</h2>

            <div class="form-row">
              <div class="form-group">
                <label for="intendedSession"
                  >Intended Session <span class="required">*</span></label
                >
                <select id="intendedSession" name="intendedSession" required>
                  <option value="">Select Session</option>
                  <option value="Nursery">Nursery</option>
                  <option value="Primary">Primary</option>
                  <option value="Secondary">Secondary</option>
                  <option value="Islamiyya">Islamiyya</option>
                </select>
                <div class="validation-error">
                  Please select intended session
                </div>
              </div>
              <div class="form-group">
                <label for="admissionYear"
                  >Admission Year <span class="required">*</span></label
                >
                <select id="admissionYear" name="admissionYear" required>
                  <option value="">Select Year</option>
                  <option value="2024">2024</option>
                  <option value="2025">2025</option>
                  <option value="2026">2026</option>
                </select>
                <div class="validation-error">Please select admission year</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="previousSchool">Previous School/Institution</label>
                <input
                  type="text"
                  id="previousSchool"
                  name="previousSchool"
                  placeholder="Enter previous school (if applicable)"
                />
              </div>
              <div class="form-group">
                <label for="graduationYear">Year of Graduation</label>
                <input
                  type="text"
                  id="graduationYear"
                  name="graduationYear"
                  placeholder="e.g., 2023 (if applicable)"
                />
              </div>
            </div>
          </div>

          <!-- Medical Information Section -->
          <div class="form-section">
            <h2 class="section-title">Medical Information</h2>

            <div class="form-row">
              <div class="form-group">
                <label
                  >Does the child have any medical condition?
                  <span class="required">*</span></label
                >
                <div class="radio-group">
                  <div class="radio-option">
                    <input
                      type="radio"
                      id="medicalConditionYes"
                      name="medicalCondition"
                      value="yes"
                      required
                    />
                    <label for="medicalConditionYes">Yes</label>
                  </div>
                  <div class="radio-option">
                    <input
                      type="radio"
                      id="medicalConditionNo"
                      name="medicalCondition"
                      value="no"
                      required
                    />
                    <label for="medicalConditionNo">No</label>
                  </div>
                </div>
                <div class="validation-error">Please select an option</div>
              </div>
            </div>

            <div id="medicalDetails" style="display: none">
              <div class="form-row">
                <div class="form-group full-width">
                  <label for="medicalConditionDescription"
                    >Please describe the medical condition(s)
                    <span class="required">*</span></label
                  >
                  <textarea
                    id="medicalConditionDescription"
                    name="medicalConditionDescription"
                    placeholder="Please provide details about the child's medical condition(s)"
                  ></textarea>
                  <div class="validation-error">
                    Please describe the medical condition
                  </div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group full-width">
                  <label for="currentMedication">Current Medication(s)</label>
                  <textarea
                    id="currentMedication"
                    name="currentMedication"
                    placeholder="Please list all current medications, dosages, and frequency (e.g., Paracetamol 120mg twice daily)"
                  ></textarea>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="doctorName">Doctor's Name</label>
                  <input
                    type="text"
                    id="doctorName"
                    name="doctorName"
                    placeholder="Name of attending physician"
                  />
                </div>
                <div class="form-group">
                  <label for="doctorPhone">Doctor's Phone</label>
                  <input
                    type="tel"
                    id="doctorPhone"
                    name="doctorPhone"
                    placeholder="Doctor's contact number"
                  />
                </div>
              </div>
            </div>
          </div>

          <!-- Parent/Guardian Information Section -->
          <div class="form-section">
            <h2 class="section-title">Parent/Guardian Information</h2>

            <div class="form-row">
              <div class="form-group">
                <label for="parentName"
                  >Parent/Guardian Name <span class="required">*</span></label
                >
                <input
                  type="text"
                  id="parentName"
                  name="parentName"
                  required
                  placeholder="Full name of parent/guardian"
                />
                <div class="validation-error">
                  Please enter parent/guardian name
                </div>
              </div>
              <div class="form-group">
                <label for="relationship"
                  >Relationship to Child <span class="required">*</span></label
                >
                <select id="relationship" name="relationship" required>
                  <option value="">Select Relationship</option>
                  <option value="Father">Father</option>
                  <option value="Mother">Mother</option>
                  <option value="Guardian">Guardian</option>
                  <option value="Other">Other</option>
                </select>
                <div class="validation-error">Please select relationship</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="parentEmail"
                  >Parent/Guardian Email <span class="required">*</span></label
                >
                <input
                  type="email"
                  id="parentEmail"
                  name="parentEmail"
                  required
                  placeholder="Parent/Guardian email address"
                />
                <div class="validation-error">
                  Please enter valid parent/guardian email
                </div>
              </div>
              <div class="form-group">
                <label for="parentPhone"
                  >Parent/Guardian Phone <span class="required">*</span></label
                >
                <input
                  type="tel"
                  id="parentPhone"
                  name="parentPhone"
                  required
                  placeholder="Parent/Guardian phone number"
                />
                <div class="validation-error">
                  Please enter parent/guardian phone
                </div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="parentOccupation"
                  >Parent/Guardian Occupation
                  <span class="required">*</span></label
                >
                <input
                  type="text"
                  id="parentOccupation"
                  name="parentOccupation"
                  required
                  placeholder="Parent/Guardian occupation"
                />
                <div class="validation-error">
                  Please enter parent/guardian occupation
                </div>
              </div>
              <div class="form-group">
                <label for="parentWorkplace">Workplace/Company</label>
                <input
                  type="text"
                  id="parentWorkplace"
                  name="parentWorkplace"
                  placeholder="Where parent/guardian works"
                />
              </div>
            </div>
          </div>

          <!-- Parents/Guardians Undertakings Section -->
          <div class="form-section">
            <h2 class="section-title">Parents/Guardians Undertakings</h2>

            <div class="form-row">
              <div class="form-group full-width">
                <div
                  style="
                    background: #f8f9fa;
                    padding: 20px;
                    border-radius: 8px;
                    border-left: 4px solid #3498db;
                    margin-bottom: 20px;
                  "
                >
                  <p
                    style="
                      font-weight: 600;
                      margin-bottom: 15px;
                      color: #2c3e50;
                    "
                  >
                    I, the parent/guardian of the above-named child, hereby
                    undertake the following:
                  </p>

                  <div style="margin-bottom: 15px">
                    <strong>1. Support for Academic Progress:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px">
                      <li>
                        I will support my child's academic endeavours by
                        encouraging regular study habits and ensuring the
                        completion of assignments and homework.
                      </li>
                      <li>
                        I will attend parent-teacher meetings and engage with
                        the school regarding my child's academic progress.
                      </li>
                    </ul>
                  </div>

                  <div style="margin-bottom: 15px">
                    <strong>2. Adherence to School Policies:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px">
                      <li>
                        I will ensure that my child follows the school's rules
                        and regulations and will cooperate with the school in
                        enforcing them.
                      </li>
                      <li>
                        I understand the consequences of my child's
                        non-compliance with the school's code of conduct and
                        policies.
                      </li>
                    </ul>
                  </div>

                  <div style="margin-bottom: 15px">
                    <strong>3. Attendance and Punctuality:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px">
                      <li>
                        I will ensure that my child attends school regularly and
                        punctually and will provide valid reasons for any
                        absence.
                      </li>
                    </ul>
                  </div>

                  <div style="margin-bottom: 15px">
                    <strong>4. Uniform and Appearance:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px">
                      <li>
                        I will ensure that my child wears the school uniform and
                        maintains a tidy appearance as required by the school.
                      </li>
                    </ul>
                  </div>

                  <div style="margin-bottom: 15px">
                    <strong>5. Communication:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px">
                      <li>
                        I will maintain open communication with the school
                        regarding any issues that may affect my child's learning
                        or behaviour.
                      </li>
                      <li>
                        I will keep the school informed of any changes in
                        contact details or emergency contact information.
                      </li>
                    </ul>
                  </div>

                  <div style="margin-bottom: 15px">
                    <strong>6. Payment of Fees:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px">
                      <li>
                        I will ensure that all school fees and other related
                        expenses are paid on time as per the school's fee
                        schedule.
                      </li>
                      <li>
                        <strong
                          >And I strongly agree that my child/children would be
                          sent home as as long as I've not abided by the above
                          rule no. (6.1).</strong
                        >
                      </li>
                    </ul>
                  </div>

                  <div style="margin-bottom: 15px">
                    <strong>7. Extracurricular Activities:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px">
                      <li>
                        I will encourage my child to participate in
                        extracurricular activities and support the school in
                        organizing these events.
                      </li>
                    </ul>
                  </div>

                  <div style="margin-bottom: 15px">
                    <strong>8. Responsibility for Property:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px">
                      <li>
                        I understand that I am responsible for any damage caused
                        by my child to school property and will bear the cost of
                        repairs or replacement.
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group full-width">
                <label>
                  <input
                    type="checkbox"
                    id="undertakings"
                    name="undertakings"
                    required
                    style="width: auto; margin-right: 10px"
                  />
                  I have read, understood, and agree to abide by all the above
                  undertakings as a parent/guardian.
                  <span class="required">*</span>
                </label>
                <div class="validation-error">
                  Please accept the parent/guardian undertakings
                </div>
              </div>
            </div>
          </div>

          <!-- Declaration Section -->
          <div class="form-section">
            <h2 class="section-title">Declaration</h2>

            <div class="form-row">
              <div class="form-group full-width">
                <label>
                  <input
                    type="checkbox"
                    id="declaration"
                    name="declaration"
                    required
                    style="width: auto; margin-right: 10px"
                  />
                  I hereby declare that all information provided in this form is
                  true and accurate to the best of my knowledge. I understand
                  that any false information may result in the rejection of this
                  application. <span class="required">*</span>
                </label>
                <div class="validation-error">
                  Please accept the declaration
                </div>
              </div>
            </div>
          </div>

          <button type="submit" class="btn-submit">Submit Registration</button>

          <div class="success-message" id="successMessage">
            <strong>Success!</strong> Your registration has been submitted
            successfully. You will receive a confirmation email shortly.
          </div>
        </form>
      </div>
    </div>

    <script>
      // Handle medical condition visibility
      document
        .querySelectorAll('input[name="medicalCondition"]')
        .forEach((radio) => {
          radio.addEventListener("change", function () {
            const medicalDetails = document.getElementById("medicalDetails");
            const medicalDescription = document.getElementById(
              "medicalConditionDescription"
            );

            if (this.value === "yes") {
              medicalDetails.style.display = "block";
              medicalDescription.setAttribute("required", "required");
            } else {
              medicalDetails.style.display = "none";
              medicalDescription.removeAttribute("required");
              medicalDescription.value = "";
            }
          });
        });

      // Form validation and submission
      document
        .getElementById("studentForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          // Clear previous errors
          document.querySelectorAll(".form-group").forEach((group) => {
            group.classList.remove("error");
          });
          document.querySelectorAll(".validation-error").forEach((error) => {
            error.style.display = "none";
          });

          let isValid = true;

          // Validate required fields
          const requiredFields = [
            "firstName",
            "lastName",
            "dateOfBirth",
            "nationality",
            "email",
            "phone",
            "emergencyContact",
            "emergencyPhone",
            "stateOfOrigin",
            "lga",
            "stateOfResidence",
            "city",
            "address",
            "intendedSession",
            "admissionYear",
            "parentName",
            "relationship",
            "parentEmail",
            "parentPhone",
            "parentOccupation",
          ];

          requiredFields.forEach((fieldName) => {
            const field = document.getElementById(fieldName);
            if (!field.value.trim()) {
              field.closest(".form-group").classList.add("error");
              field
                .closest(".form-group")
                .querySelector(".validation-error").style.display = "block";
              isValid = false;
            }
          });

          // Validate gender
          const gender = document.querySelector('input[name="gender"]:checked');
          if (!gender) {
            document
              .querySelector('input[name="gender"]')
              .closest(".form-group")
              .classList.add("error");
            document
              .querySelector('input[name="gender"]')
              .closest(".form-group")
              .querySelector(".validation-error").style.display = "block";
            isValid = false;
          }

          // Validate medical condition
          const medicalCondition = document.querySelector(
            'input[name="medicalCondition"]:checked'
          );
          if (!medicalCondition) {
            document
              .querySelector('input[name="medicalCondition"]')
              .closest(".form-group")
              .classList.add("error");
            document
              .querySelector('input[name="medicalCondition"]')
              .closest(".form-group")
              .querySelector(".validation-error").style.display = "block";
            isValid = false;
          } else if (medicalCondition.value === "yes") {
            const medicalDescription = document.getElementById(
              "medicalConditionDescription"
            );
            if (!medicalDescription.value.trim()) {
              medicalDescription.closest(".form-group").classList.add("error");
              medicalDescription
                .closest(".form-group")
                .querySelector(".validation-error").style.display = "block";
              isValid = false;
            }
          }

          // Validate undertakings
          const undertakings = document.getElementById("undertakings");
          if (!undertakings.checked) {
            undertakings.closest(".form-group").classList.add("error");
            undertakings
              .closest(".form-group")
              .querySelector(".validation-error").style.display = "block";
            isValid = false;
          }

          // Validate declaration
          const declaration = document.getElementById("declaration");
          if (!declaration.checked) {
            declaration.closest(".form-group").classList.add("error");
            declaration
              .closest(".form-group")
              .querySelector(".validation-error").style.display = "block";
            isValid = false;
          }

          // Validate email formats
          const emailFields = ["email", "parentEmail"];
          emailFields.forEach((fieldName) => {
            const field = document.getElementById(fieldName);
            if (field.value && !isValidEmail(field.value)) {
              field.closest(".form-group").classList.add("error");
              field
                .closest(".form-group")
                .querySelector(".validation-error").style.display = "block";
              isValid = false;
            }
          });

          if (isValid) {
            // Show success message
            document.getElementById("successMessage").style.display = "block";

            // Scroll to success message
            document
              .getElementById("successMessage")
              .scrollIntoView({ behavior: "smooth" });

            // Here you would typically send the form data to your server
            console.log("Form submitted successfully!");

            // Optionally reset the form
            // this.reset();
          } else {
            // Scroll to first error
            const firstError = document.querySelector(".form-group.error");
            if (firstError) {
              firstError.scrollIntoView({
                behavior: "smooth",
                block: "center",
              });
            }
          }
        });

      // Email validation function
      function isValidEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
      }

      // Real-time validation
      document.querySelectorAll("input, select, textarea").forEach((field) => {
        field.addEventListener("blur", function () {
          if (this.hasAttribute("required") && !this.value.trim()) {
            this.closest(".form-group").classList.add("error");
            this.closest(".form-group").querySelector(
              ".validation-error"
            ).style.display = "block";
          } else {
            this.closest(".form-group").classList.remove("error");
            this.closest(".form-group").querySelector(
              ".validation-error"
            ).style.display = "none";
          }

          // Special validation for email fields
          if (
            this.type === "email" &&
            this.value &&
            !isValidEmail(this.value)
          ) {
            this.closest(".form-group").classList.add("error");
            this.closest(".form-group").querySelector(
              ".validation-error"
            ).style.display = "block";
          }
        });
      });

      // Real-time validation for radio buttons
      document.querySelectorAll('input[type="radio"]').forEach((radio) => {
        radio.addEventListener("change", function () {
          this.closest(".form-group").classList.remove("error");
          this.closest(".form-group").querySelector(
            ".validation-error"
          ).style.display = "none";
        });
      });

      // Real-time validation for checkboxes
      document
        .querySelectorAll("#declaration, #undertakings")
        .forEach((checkbox) => {
          checkbox.addEventListener("change", function () {
            if (this.checked) {
              this.closest(".form-group").classList.remove("error");
              this.closest(".form-group").querySelector(
                ".validation-error"
              ).style.display = "none";
            }
          });
        });

      // Auto-copy state of origin to state of residence
      document
        .getElementById("stateOfOrigin")
        .addEventListener("change", function () {
          const stateOfResidence = document.getElementById("stateOfResidence");
          if (this.value && !stateOfResidence.value) {
            stateOfResidence.value = this.value;
          }
        });

      // Set max date for date of birth (no future dates)
      document.getElementById("dateOfBirth").max = new Date()
        .toISOString()
        .split("T")[0];
    </script>
  </body>
</html>
